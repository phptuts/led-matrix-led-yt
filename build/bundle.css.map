{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "App.svelte"
  ],
  "sourcesContent": [
    "<script>\n  import _ from \"lodash\";\n  let port;\n  let writer;\n  let status = \"disconnected\";\n  let leds = _.range(0, 8).map(() => _.range(0, 8).map(() => false));\n\n  const textEncoder = new TextEncoder();\n\n  function onToggleLed(row, column) {\n    leds[row][column] = !leds[row][column];\n    leds = [...leds];\n  }\n  $: arduinoMessage =\n    [...leds]\n      .reverse()\n      .reduce((acc, value) => {\n        return acc + value.map((l) => (l ? \"1\" : \"0\")).join(\":\") + \":\";\n      }, \"\")\n      .slice(0, -1) + \"@\";\n\n  async function connectUsb() {\n    if (!navigator.serial) {\n      alert(\"Turn on experimential web features to connect to the Arduino.\");\n      return;\n    }\n\n    // if it's connected we want to return\n    if (status === \"connected\") {\n      return;\n    }\n\n    try {\n      port = await navigator.serial.requestPort({\n        filters: [{ usbVendorId: 0x2341 }],\n      });\n      await port.open({ baudrate: 115200 });\n      writer = port.writable.getWriter();\n      status = \"connected\";\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  $: if (status == \"connected\" && arduinoMessage != \"\") {\n    writer.write(textEncoder.encode(arduinoMessage));\n  }\n</script>\n\n<style>\n  main {\n    width: 500px;\n    height: 500px;\n    margin: 10px auto;\n    border: solid gray 1px;\n    background-color: #535353;\n  }\n  section.row {\n    display: flex;\n  }\n  div.circle {\n    width: 50px;\n    height: 50px;\n    border-radius: 50%;\n    margin: 5px;\n    border: solid gray 1px;\n    background-color: #fff;\n    cursor: pointer;\n  }\n  div.on {\n    background-color: #aa0000;\n  }\n  h1,\n  h2 {\n    text-align: center;\n  }\n  section#message {\n    width: 500px;\n    word-wrap: break-word;\n    border: solid gray 1px;\n    padding: 5px;\n    margin: 10px auto;\n  }\n  #usb-connection-info {\n    width: 500px;\n    margin: 5px auto;\n    text-align: center;\n  }\n  #usb-connection-info h3 {\n    letter-spacing: 2px;\n  }\n  #usb-connection-info button {\n    border: none;\n    padding: 10px;\n    outline: none;\n    font-size: 16px;\n    cursor: pointer;\n  }\n  #usb-connection-info button:disabled {\n    cursor: no-drop;\n  }\n  button:active,\n  button:focus {\n    outline: none;\n  }\n</style>\n\n<h1>Led Matrix Arduino</h1>\n\n<section id=\"usb-connection-info\">\n  <button\n    disabled={status === 'connected'}\n    on:click={connectUsb}>Connect</button>\n  <h3>Status: {status}</h3>\n</section>\n\n<main>\n  {#each leds as row, rowIndex}\n    <section class=\"row\">\n      {#each row as led, columnIndex}\n        <div\n          class:on={led}\n          on:click={() => onToggleLed(rowIndex, columnIndex)}\n          class=\"circle\" />\n      {/each}\n    </section>\n  {/each}\n</main>\n\n<h2>Arduino Message</h2>\n\n<section id=\"message\">{arduinoMessage}</section>\n"
  ],
  "names": [],
  "mappings": "AAkDE,IAAI,8BAAC,CAAC,AACJ,KAAK,CAAE,KAAK,CACZ,MAAM,CAAE,KAAK,CACb,MAAM,CAAE,IAAI,CAAC,IAAI,CACjB,MAAM,CAAE,KAAK,CAAC,IAAI,CAAC,GAAG,CACtB,gBAAgB,CAAE,OAAO,AAC3B,CAAC,AACD,OAAO,IAAI,8BAAC,CAAC,AACX,OAAO,CAAE,IAAI,AACf,CAAC,AACD,GAAG,OAAO,8BAAC,CAAC,AACV,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,aAAa,CAAE,GAAG,CAClB,MAAM,CAAE,GAAG,CACX,MAAM,CAAE,KAAK,CAAC,IAAI,CAAC,GAAG,CACtB,gBAAgB,CAAE,IAAI,CACtB,MAAM,CAAE,OAAO,AACjB,CAAC,AACD,GAAG,GAAG,8BAAC,CAAC,AACN,gBAAgB,CAAE,OAAO,AAC3B,CAAC,AACD,gCAAE,CACF,EAAE,8BAAC,CAAC,AACF,UAAU,CAAE,MAAM,AACpB,CAAC,AACD,OAAO,QAAQ,8BAAC,CAAC,AACf,KAAK,CAAE,KAAK,CACZ,SAAS,CAAE,UAAU,CACrB,MAAM,CAAE,KAAK,CAAC,IAAI,CAAC,GAAG,CACtB,OAAO,CAAE,GAAG,CACZ,MAAM,CAAE,IAAI,CAAC,IAAI,AACnB,CAAC,AACD,oBAAoB,8BAAC,CAAC,AACpB,KAAK,CAAE,KAAK,CACZ,MAAM,CAAE,GAAG,CAAC,IAAI,CAChB,UAAU,CAAE,MAAM,AACpB,CAAC,AACD,mCAAoB,CAAC,EAAE,eAAC,CAAC,AACvB,cAAc,CAAE,GAAG,AACrB,CAAC,AACD,mCAAoB,CAAC,MAAM,eAAC,CAAC,AAC3B,MAAM,CAAE,IAAI,CACZ,OAAO,CAAE,IAAI,CACb,OAAO,CAAE,IAAI,CACb,SAAS,CAAE,IAAI,CACf,MAAM,CAAE,OAAO,AACjB,CAAC,AACD,mCAAoB,CAAC,qBAAM,SAAS,AAAC,CAAC,AACpC,MAAM,CAAE,OAAO,AACjB,CAAC,AACD,oCAAM,OAAO,CACb,oCAAM,MAAM,AAAC,CAAC,AACZ,OAAO,CAAE,IAAI,AACf,CAAC"
}